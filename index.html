<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="description" content="Join us in celebrating the engagement of Marly and Michael. May 24th, 2026 at Nai Restaurant. RSVP now!">
    <meta name="theme-color" content="#D4AF37">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Marly & Michael - Engagement Celebration</title>

    <!-- Favicon -->
    <link rel="icon" type="image/jpeg" href="Logo.jpeg">
    <link rel="apple-touch-icon" href="Logo.jpeg">

    <!-- Open Graph / Social Sharing -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Marly & Michael ‚Äî Engagement Celebration">
    <meta property="og:description" content="Join us in celebrating our engagement! May 24th, 2026 at Nai Restaurant. RSVP now!">
    <meta property="og:image" content="https://marlybaskha.ca/Logo.jpeg">
    <meta property="og:url" content="https://marlybaskha.ca">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Marly & Michael ‚Äî Engagement Celebration">
    <meta name="twitter:description" content="Join us in celebrating our engagement! May 24th, 2026 at Nai Restaurant. RSVP now!">
    <meta name="twitter:image" content="https://marlybaskha.ca/Logo.jpeg">

    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400;1,500&family=Montserrat:wght@300;400;500&family=Great+Vibes&display=swap" rel="stylesheet">

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs, doc, getDoc, updateDoc, query, where, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBCtD1ZhcUND9bbOo1t7bqwiTB64asWVuY",
            authDomain: "mmrsvps-95e2a.firebaseapp.com",
            databaseURL: "https://mmrsvps-95e2a-default-rtdb.firebaseio.com",
            projectId: "mmrsvps-95e2a",
            storageBucket: "mmrsvps-95e2a.firebasestorage.app",
            messagingSenderId: "404940644347",
            appId: "1:404940644347:web:2bd0cc03c3832e8038b55e",
            measurementId: "G-2BBH6CDRY2"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const analytics = getAnalytics(app);

        // Make Firebase available globally
        window.firebaseDb = db;
        window.firebaseAddDoc = addDoc;
        window.firebaseGetDocs = getDocs;
        window.firebaseDoc = doc;
        window.firebaseGetDoc = getDoc;
        window.firebaseUpdateDoc = updateDoc;
        window.firebaseCollection = collection;
        window.firebaseQuery = query;
        window.firebaseWhere = where;
        window.firebaseServerTimestamp = serverTimestamp;
    </script>

    <!-- Carousel Styles -->
    <style>
        .story-image-wrapper {
            position: relative;
            margin: 4rem auto;
            max-width: 500px;
            width: 100%;
            display: block;
        }
        .image-carousel {
            position: relative;
            width: 100%;
            aspect-ratio: 3 / 4;
            overflow: hidden;
            border-radius: 250px 250px 0 0;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            border: 8px solid #FFFFFF;
            background: #1a1a1a;
        }
        .carousel-slide {
            position: absolute;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.2s ease-in-out;
            overflow: hidden;
        }
        .carousel-slide.active {
            opacity: 1;
        }
        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transform: scale(1);
            transition: transform 3s ease-out;
        }
        .carousel-slide.active img {
            transform: scale(1.1);
        }
        .image-frame {
            position: absolute;
            top: 20px;
            left: -15px;
            right: -15px;
            bottom: -20px;
            border: 1px solid #D4AF37;
            border-radius: 265px 265px 0 0;
            z-index: 10;
            pointer-events: none;
        }
        @media (max-width: 768px) {
            .story-image-wrapper {
                max-width: 350px;
                padding: 0 20px;
            }
            .image-carousel {
                border-radius: 175px 175px 0 0;
            }
            .image-frame {
                top: 15px;
                left: 5px;
                right: 5px;
                bottom: -15px;
                border-radius: 190px 190px 0 0;
            }
        }
        @media (max-width: 480px) {
            .story-image-wrapper {
                max-width: 300px;
                padding: 0 15px;
            }
            .image-carousel {
                border-radius: 150px 150px 0 0;
            }
            .image-frame {
                left: 5px;
                right: 5px;
                border-radius: 165px 165px 0 0;
            }
        }
    </style>
</head>
<body>
    <div class="hero-section">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <div class="logo-container">
                <img src="Logo.jpeg" alt="Marly & Michael" class="logo">
            </div>
            <h1 class="couple-names">Marly & Michael</h1>
            <div class="divider"></div>
            <!-- <p class="tagline">Together with joy in our hearts, we invite you to celebrate our engagement</p> -->
        </div>
        <div class="scroll-indicator">
            <span>‚Üì</span>
        </div>
    </div>

    <section class="story-section">
        <div class="container">
            <div class="story-content">
                <h2 class="section-title">we invite you to celebrate our engagement</h2>
                <div class="story-image-wrapper">
                    <div class="image-carousel">
                        <div class="carousel-slide">
                            <img src="image2.jpeg" alt="Marly and Michael - Photo 2">
                        </div>
                        <div class="carousel-slide">
                            <img src="image5.jpeg" alt="Marly and Michael - Photo 3">
                        </div>
                        <div class="carousel-slide">
                            <img src="image3.jpeg" alt="Marly and Michael - Photo 3">
                        </div>
                        <div class="carousel-slide">
                            <img src="image4.jpg" alt="Marly and Michael - Photo 3">
                        </div>
                        
                        <div class="carousel-slide">
                            <img src="image6.jpeg" alt="Marly and Michael - Photo 3">
                        </div>
                        <div class="carousel-slide">
                            <img src="image8.jpeg" alt="Marly and Michael - Photo 8">
                        </div>
                    </div>
                    <div class="image-frame"></div>
                </div>
                <p class="story-text">
                    "I found the one whom my soul loves."
                </p>
                <p class="story-verse-ref">Song of Solomon 3:4</p>
            </div>
        </div>
    </section>

    <section class="event-details">
        <div class="container">
            <h2 class="section-title">Celebration Details</h2>
            <div class="details-grid">
                <div class="detail-card">
                    <div class="detail-icon">üìÖ</div>
                    <h3>Date</h3>
                    <p>May 24th, 2026</p>
                </div>
                <div class="detail-card">
                    <div class="detail-icon">‚è∞</div>
                    <h3>Time</h3>
                    <p>6:00 PM</p>
                </div>
                <div class="detail-card">
                    <div class="detail-icon">üìç</div>
                    <h3>Venue</h3>
                    <p><a href="https://share.google/P3SJZy6HMCkkhdmed" target="_blank" style="color: inherit; text-decoration: underline;">Nai Restaurant</a></p>
                </div>
                <div class="detail-card">
                    <div class="detail-icon">üëî</div>
                    <h3>Dress Code</h3>
                    <p>Spring Semi-Formal</p>
                    <p>Whatever that meansüôÑ</p>
                </div>
            </div>

            <div class="countdown-wrapper">
                <div class="countdown" id="countdown">
                    <div class="countdown-unit">
                        <span class="countdown-number" id="countDays">0</span>
                        <span class="countdown-label">Days</span>
                    </div>
                    <div class="countdown-unit">
                        <span class="countdown-number" id="countHours">0</span>
                        <span class="countdown-label">Hours</span>
                    </div>
                    <div class="countdown-unit">
                        <span class="countdown-number" id="countMinutes">0</span>
                        <span class="countdown-label">Minutes</span>
                    </div>
                    <div class="countdown-unit">
                        <span class="countdown-number" id="countSeconds">0</span>
                        <span class="countdown-label">Seconds</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="rsvp-section">
        <div class="container">
            <h2 class="section-title">RSVP</h2>
            <p class="rsvp-subtitle">Please let us know if you'll be joining us</p>
            <p class="rsvp-deadline">Kindly respond by <strong>May 1st, 2026</strong></p>

            <!-- Step 1: Name Verification -->
            <div id="verificationStep" class="rsvp-form">
                <div class="verification-content">
                    <p class="verification-intro">Please enter your name as it appears on your invitation</p>
                    <div class="form-group">
                        <label for="verifyName">Your Full Name *</label>
                        <input type="text" id="verifyName" placeholder="Enter your name" required maxlength="100">
                    </div>
                    <button type="button" id="verifyBtn" class="submit-btn">
                        <span class="btn-text">Find My Invitation</span>
                        <span class="btn-loading" style="display: none;">Searching...</span>
                    </button>
                    <div id="verifyError" class="form-message error" style="display: none;"></div>
                    <div id="matchSelection" style="display: none;">
                        <p class="verification-intro">We found multiple matches. Please select your invitation:</p>
                        <div id="matchList" class="match-list"></div>
                    </div>
                </div>
            </div>

            <!-- Step 2: RSVP Form (hidden until verified) -->
            <form id="rsvpForm" class="rsvp-form" style="display: none;">
                <div id="welcomeHeader" class="welcome-header">
                    <p class="welcome-name">Welcome, <span id="guestDisplayName"></span>!</p>
                    <p id="editingNotice" class="editing-notice" style="display: none;">You've already submitted an RSVP. You can update your response below.</p>
                    <button type="button" id="changeGuestBtn" class="change-guest-btn">Not you? Click here</button>
                </div>

                <input type="hidden" id="guestDocId">
                <input type="hidden" id="existingRsvpId">

                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required>
                </div>

                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" maxlength="20">
                </div>

                <div class="form-group">
                    <label class="attendance-label">Will you be attending? *</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="attending" value="yes" required>
                            <span>Joyfully Accept</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="attending" value="no" required>
                            <span>Regretfully Decline</span>
                        </label>
                    </div>
                </div>

                <div class="form-group" id="householdMembersGroup">
                    <label class="attendance-label">Who will be attending?</label>
                    <div id="householdMembersList" class="household-checklist">
                        <!-- Populated dynamically by script.js -->
                    </div>
                </div>

                <div id="attendingFields" style="display: none;">

                    <div class="form-group">
                        <label for="relationship">Your Relationship to the Couple</label>
                        <select id="relationship" name="relationship">
                            <option value="">Select relationship</option>
                            <option value="family-bride">Family of Marly</option>
                            <option value="family-groom">Family of Michael</option>
                            <option value="friend-bride">Friend of Marly</option>
                            <option value="friend-groom">Friend of Michael</option>
                            <option value="friend-both">Friend of Both</option>
                            <option value="colleague">Colleague</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="mealPreference">Meal Preference</label>
                        <select id="mealPreference" name="mealPreference">
                            <option value="">Select preference</option>
                            <option value="standard">Standard</option>
                            <option value="vegetarian">Vegetarian</option>
                            <option value="vegan">Vegan</option>
                            <option value="halal">Halal</option>
                            <option value="kosher">Kosher</option>
                            <option value="gluten-free">Gluten-Free</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="dietary">Dietary Restrictions or Allergies</label>
                        <textarea id="dietary" name="dietary" rows="2" placeholder="Please let us know of any allergies or dietary needs" maxlength="500"></textarea>
                    </div>

                    <div class="form-group">
                        <label for="childrenCount">Number of Children Attending</label>
                        <select id="childrenCount" name="childrenCount">
                            <option value="0">No children</option>
                            <option value="1">1 Child</option>
                            <option value="2">2 Children</option>
                            <option value="3">3 Children</option>
                            <option value="4">4+ Children</option>
                        </select>
                    </div>

                    <div class="form-group" id="childrenAgesGroup" style="display: none;">
                        <label for="childrenAges">Ages of Children</label>
                        <input type="text" id="childrenAges" name="childrenAges" placeholder="e.g., 3, 7, 12" maxlength="50">
                    </div>

                    <div class="form-group">
                        <label for="songRequest">Song Request for the Celebration</label>
                        <input type="text" id="songRequest" name="songRequest" placeholder="What song gets you on the dance floor?" maxlength="200">
                    </div>

                    <div class="form-group checkbox-group">
                        <label class="checkbox-option">
                            <input type="checkbox" id="transportNeeded" name="transportNeeded">
                            <span>I may need transportation assistance</span>
                        </label>
                    </div>

                    <div class="form-group checkbox-group">
                        <label class="checkbox-option">
                            <input type="checkbox" id="accommodationNeeded" name="accommodationNeeded">
                            <span>I may need accommodation recommendations</span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label for="specialRequests">Special Requests or Accessibility Needs</label>
                        <textarea id="specialRequests" name="specialRequests" rows="2" placeholder="Wheelchair access, seating preferences, etc." maxlength="500"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <label for="message">Message to the Couple</label>
                    <textarea id="message" name="message" rows="4" placeholder="Share your wishes and excitement with us!" maxlength="1000"></textarea>
                </div>

                <button type="submit" class="submit-btn">
                    <span class="btn-text">Send RSVP</span>
                    <span class="btn-loading" style="display: none;">Sending...</span>
                </button>

                <div class="form-message" id="formMessage"></div>
            </form>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-logo">
                <img src="Logo.jpeg" alt="Marly & Michael" class="footer-logo-img">
            </div>
            <p class="footer-text">We can't wait to celebrate with you!</p>
            <p class="footer-names">Marly & Michael</p>
            <div class="footer-divider"></div>
            <p class="footer-copyright">¬© 2026 - With Love</p>
        </div>
    </footer>

    <script src="script.js"></script>

    <!-- Carousel -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const slides = document.querySelectorAll('.carousel-slide');
            if (slides.length > 0) {
                slides[0].classList.add('active');
                let current = 0;
                setInterval(function() {
                    slides[current].classList.remove('active');
                    current = (current + 1) % slides.length;
                    slides[current].classList.add('active');
                }, 2000);
            }
        });
    </script>

    <!-- Countdown -->
    <script>
        (function() {
            const eventDate = new Date('2026-05-24T18:00:00');

            function update() {
                const now = new Date();
                const diff = eventDate - now;

                if (diff <= 0) {
                    document.getElementById('countDays').textContent = '0';
                    document.getElementById('countHours').textContent = '0';
                    document.getElementById('countMinutes').textContent = '0';
                    document.getElementById('countSeconds').textContent = '0';
                    return;
                }

                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((diff % (1000 * 60)) / 1000);

                document.getElementById('countDays').textContent = days;
                document.getElementById('countHours').textContent = hours;
                document.getElementById('countMinutes').textContent = minutes;
                document.getElementById('countSeconds').textContent = seconds;
            }

            update();
            setInterval(update, 1000);
        })();
    </script>
</body>
</html>
